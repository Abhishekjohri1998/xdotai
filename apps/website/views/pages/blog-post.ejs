<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= page.title %> ‚Äî X DOT AI
    </title>
    <meta name="description" content="<%= page.meta_description %>">
    <meta name="author" content="<%= post.author %>">
    <meta name="robots" content="index, follow">

    <!-- Open Graph -->
    <meta property="og:type" content="article">
    <meta property="og:title" content="<%= post.meta_title || post.title %>">
    <meta property="og:description" content="<%= post.meta_description || post.excerpt %>">
    <% if (page.og_image) { %>
        <meta property="og:image" content="<%= page.og_image %>">
        <% } %>
            <meta property="og:url" content="https://xdotai.in/blogs/<%= post.slug %>">
            <meta property="article:published_time" content="<%= post.published_at %>">
            <meta property="article:author" content="<%= post.author %>">
            <% if (post.category) { %>
                <meta property="article:section" content="<%= post.category %>">
                <% } %>
                    <% if (post.tags) { post.tags.split(',').forEach(tag=> { %>
                        <meta property="article:tag" content="<%= tag.trim() %>">
                        <% }) } %>

                            <!-- Twitter Card -->
                            <meta name="twitter:card" content="summary_large_image">
                            <meta name="twitter:title" content="<%= post.meta_title || post.title %>">
                            <meta name="twitter:description" content="<%= post.meta_description || post.excerpt %>">
                            <% if (page.og_image) { %>
                                <meta name="twitter:image" content="<%= page.og_image %>">
                                <% } %>

                                    <!-- Schema.org Article -->
                                    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": "<%= (post.title || '').replace(/"/g, '\\"') %>",
        "description": "<%= (post.excerpt || '').replace(/"/g, '\\"') %>",
        <% if (post.featured_image) { %>"image": "https://xdotai.in<%= post.featured_image %>",<% } %>
        "author": {
            "@type": "Person",
            "name": "<%= post.author %>"
        },
        "publisher": {
            "@type": "Organization",
            "name": "X DOT AI",
            "logo": {
                "@type": "ImageObject",
                "url": "https://xdotai.in/logo.png"
            }
        },
        "datePublished": "<%= post.published_at %>",
        "dateModified": "<%= post.updated_at %>",
        "mainEntityOfPage": "https://xdotai.in/blogs/<%= post.slug %>",
        "wordCount": "<%= (post.content_html || '').replace(/<[^>]*>/g, '').split(/\s+/).length %>",
        "timeRequired": "PT<%= post.reading_time %>M"
        <% if (post.category) { %>,"articleSection": "<%= post.category %>"<% } %>
        <% if (post.tags) { %>,"keywords": "<%= post.tags %>"<% } %>
    }
    </script>

                                    <!-- FAQ Schema (if blog post has FAQs) -->
                                    <% let blogPostFaqs=[]; try { blogPostFaqs=JSON.parse(post.faq_json || '[]' ); }
                                        catch(e) { blogPostFaqs=[]; } if (blogPostFaqs.length> 0) { %>
                                        <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "FAQPage",
        "mainEntity": [
            <% blogPostFaqs.forEach((faq, i) => { %>
            {
                "@type": "Question",
                "name": "<%= (faq.question || '').replace(/"/g, '\\"') %>",
                "acceptedAnswer": {
                    "@type": "Answer",
                    "text": "<%= (faq.answer || '').replace(/"/g, '\\"') %>"
                }
            }<%= i < blogPostFaqs.length - 1 ? ',' : '' %>
            <% }) %>
        ]
    }
    </script>
                                        <% } %>

                                            <link rel="canonical" href="https://xdotai.in/blogs/<%= post.slug %>">
                                            <link rel="preconnect" href="https://fonts.googleapis.com">
                                            <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
                                            <link
                                                href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Outfit:wght@600;700;800&display=swap"
                                                rel="stylesheet">
                                            <link rel="stylesheet" href="/styles.css">
</head>

<body>
    <%- include('../partials/header') %>

        <!-- Blog Post Hero -->
        <section class="blog-post-hero">
            <div class="container">
                <div class="blog-post-breadcrumb">
                    <a href="/">Home</a> / <a href="/blogs">Blog</a>
                    <% if (post.category) { %> / <a href="/blogs?category=<%= encodeURIComponent(post.category) %>">
                            <%= post.category %>
                        </a>
                        <% } %>
                </div>
                <div class="blog-post-meta-top">
                    <% if (post.category) { %><span class="blog-card-category">
                            <%= post.category %>
                        </span>
                        <% } %>
                            <span class="blog-post-date">
                                <%= new Date(post.published_at).toLocaleDateString('en-US', {weekday:'long',
                                    month:'long', day:'numeric', year:'numeric'}) %>
                            </span>
                            <span class="blog-post-reading">üìñ <%= post.reading_time %> min read</span>
                </div>
                <h1 class="blog-post-title">
                    <%= post.title %>
                </h1>
                <% if (post.excerpt) { %>
                    <p class="blog-post-excerpt">
                        <%= post.excerpt %>
                    </p>
                    <% } %>
                        <div class="blog-post-author-row">
                            <div class="blog-post-author-avatar">‚úçÔ∏è</div>
                            <div>
                                <strong>
                                    <%= post.author %>
                                </strong>
                                <small>Published <%= new Date(post.published_at).toLocaleDateString('en-US',
                                        {month:'short',day:'numeric',year:'numeric'}) %></small>
                            </div>
                        </div>
            </div>
        </section>

        <!-- Featured Image -->
        <% if (post.featured_image) { %>
            <section class="blog-post-featured-image">
                <div class="container">
                    <img src="<%= post.featured_image %>" alt="<%= post.featured_image_alt || post.title %>"
                        loading="eager">
                </div>
            </section>
            <% } %>

                <!-- Article Content -->
                <article class="blog-post-content" itemscope itemtype="https://schema.org/BlogPosting">
                    <div class="container">
                        <div class="blog-post-body" itemprop="articleBody">
                            <%- post.content_html %>
                        </div>

                        <!-- Tags -->
                        <% if (post.tags) { %>
                            <div class="blog-post-tags">
                                <% post.tags.split(',').forEach(tag=> { %>
                                    <span class="blog-tag">#<%= tag.trim() %></span>
                                    <% }) %>
                            </div>
                            <% } %>

                                <!-- FAQ Accordion -->
                                <% if (blogPostFaqs.length> 0) { %>
                                    <div class="blog-faq-section">
                                        <h2 class="blog-faq-title">‚ùì Frequently Asked Questions</h2>
                                        <div class="blog-faq-list">
                                            <% blogPostFaqs.forEach((faq, i)=> { %>
                                                <div class="blog-faq-item" onclick="this.classList.toggle('open')">
                                                    <div class="blog-faq-question">
                                                        <span>
                                                            <%= faq.question %>
                                                        </span>
                                                        <span class="blog-faq-icon">‚ñ∏</span>
                                                    </div>
                                                    <div class="blog-faq-answer">
                                                        <p>
                                                            <%= faq.answer %>
                                                        </p>
                                                    </div>
                                                </div>
                                                <% }) %>
                                        </div>
                                    </div>
                                    <% } %>

                                        <!-- Share -->
                                        <div class="blog-post-share">
                                            <span>Share this article:</span>
                                            <div class="blog-share-buttons">
                                                <a href="https://twitter.com/intent/tweet?url=https://xdotai.in/blogs/<%= post.slug %>&text=<%= encodeURIComponent(post.title) %>"
                                                    target="_blank" rel="noopener" class="blog-share-btn">ùïè Twitter</a>
                                                <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://xdotai.in/blogs/<%= post.slug %>&title=<%= encodeURIComponent(post.title) %>"
                                                    target="_blank" rel="noopener" class="blog-share-btn">üíº
                                                    LinkedIn</a>
                                                <a href="https://wa.me/?text=<%= encodeURIComponent(post.title + ' https://xdotai.in/blogs/' + post.slug) %>"
                                                    target="_blank" rel="noopener" class="blog-share-btn">üí¨
                                                    WhatsApp</a>
                                                <button
                                                    onclick="navigator.clipboard.writeText('https://xdotai.in/blogs/<%= post.slug %>');this.textContent='‚úÖ Copied!'"
                                                    class="blog-share-btn">üîó Copy Link</button>
                                            </div>
                                        </div>
                    </div>
                </article>

                <!-- Related Posts -->
                <% if (relatedPosts.length> 0) { %>
                    <section class="section" style="background: var(--bg-secondary);">
                        <div class="container">
                            <h2 class="section-title" style="text-align:center;margin-bottom:2rem;">Related <span
                                    class="text-gradient">Articles</span></h2>
                            <div class="blog-grid" style="max-width:1000px;margin:0 auto;">
                                <% relatedPosts.forEach(rp=> { %>
                                    <article class="blog-card">
                                        <a href="/blogs/<%= rp.slug %>" class="blog-card-link">
                                            <div class="blog-card-image">
                                                <% if (rp.featured_image) { %>
                                                    <img src="<%= rp.featured_image %>"
                                                        alt="<%= rp.featured_image_alt || rp.title %>" loading="lazy">
                                                    <% } else { %>
                                                        <div class="blog-card-placeholder"><span>üìù</span></div>
                                                        <% } %>
                                            </div>
                                            <div class="blog-card-body">
                                                <div class="blog-card-meta">
                                                    <time>
                                                        <%= new Date(rp.published_at).toLocaleDateString('en-US',
                                                            {month:'short',day:'numeric'}) %>
                                                    </time>
                                                    <span>‚Ä¢</span>
                                                    <span>
                                                        <%= rp.reading_time %> min read
                                                    </span>
                                                </div>
                                                <h3 class="blog-card-title">
                                                    <%= rp.title %>
                                                </h3>
                                            </div>
                                        </a>
                                    </article>
                                    <% }) %>
                            </div>
                        </div>
                    </section>
                    <% } %>

                        <%- include('../partials/footer') %>
</body>

</html>